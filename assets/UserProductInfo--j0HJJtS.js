import{c as m}from"./cartStore-brhShOrF.js";import{_,m as h,o as e,c as s,b as t,t as r,F as g,I as f,g as u,L as I,Q as v,T as k,R as b}from"./index-uNT5Tu-G.js";import"./sweetalert2.all-wN2xBNXo.js";var y={VITE_API:"https://vue3-course-api.hexschool.io/v2",VITE_PATH:"winnie05",BASE_URL:"/Vue2023_week6/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_API:T,VITE_PATH:S}=y,V={data(){return{product:{},qty:1}},methods:{...h(m,["addToCart"]),changeImage(i){this.product.currentImage=this.product.imagesStock[i]}},mounted(){const i=this.$route.params.id,c=`${T}/api/${S}/product/${i}`;this.axios.get(c).then(p=>{const n=p.data.product;this.product={productInfo:n,currentImage:n.imageUrl},n.imagesUrl&&(this.product.imagesStock=[n.imageUrl,...n.imagesUrl])}).catch(p=>console.log(p.response.data.message))}},x={key:0,class:"container"},E={class:"py-5 h2 text-center"},C={class:"row"},U={class:"col-sm-6"},A=["src","alt"],D={key:0},P=["onClick"],w=["src"],q={class:"col-sm-6"},B={class:"mb-4 badge bg-dark rounded-pill"},R={class:"mb-2"},L={class:"mb-4"},M={class:"mb-4"},F={key:0,class:"h5"},H={key:1,class:"h6"},N={key:2,class:"h5"},O={class:"input-group"};function z(i,c,p,n,o,a){return o.product.productInfo?(e(),s("div",x,[t("h2",E,r(o.product.productInfo.title),1),t("div",null,[t("div",C,[t("div",U,[t("img",{class:"d-block img-fluid mx-auto",src:o.product.currentImage,alt:o.product,style:{"max-height":"500px"}},null,8,A),o.product.imagesStock?(e(),s("div",D,[(e(!0),s(g,null,f(o.product.imagesStock,(d,l)=>(e(),s("a",{href:"#",key:"img"+l,onClick:k(Q=>a.changeImage(l),["prevent"])},[t("img",{src:d,alt:"productImg",class:b(["img-store m-1",d===o.product.currentImage?"border border-3 border-primary":""])},null,10,w)],8,P))),128))])):u("",!0)]),t("div",q,[t("span",B,r(o.product.productInfo.category),1),t("p",R,"商品描述："+r(o.product.productInfo.description),1),t("p",L,"商品內容："+r(o.product.productInfo.content),1),t("div",M,[o.product.productInfo.price?u("",!0):(e(),s("div",F,r(o.product.productInfo.origin_price)+" 元",1)),o.product.productInfo.price?(e(),s("del",H,"原價 "+r(o.product.productInfo.origin_price)+" 元",1)):u("",!0),o.product.productInfo.price?(e(),s("div",N,"現在只要 "+r(o.product.productInfo.price)+" 元",1)):u("",!0)]),t("div",null,[t("div",O,[I(t("input",{type:"number",class:"form-control","onUpdate:modelValue":c[0]||(c[0]=d=>o.qty=d),min:"1"},null,512),[[v,o.qty,void 0,{number:!0}]]),t("button",{type:"button",class:"btn btn-dark",onClick:c[1]||(c[1]=d=>i.addToCart(o.product.productInfo.id,o.qty))},"加入購物車")])])])])])])):u("",!0)}const K=_(V,[["render",z]]);export{K as default};
