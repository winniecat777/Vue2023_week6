import{U as l,J as p,K as r}from"./index-uNT5Tu-G.js";import{s as i}from"./sweetalert2.all-wN2xBNXo.js";var u={VITE_API:"https://vue3-course-api.hexschool.io/v2",VITE_PATH:"winnie05",BASE_URL:"/Vue2023_week6/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const d=l.useLoading(),{VITE_API:c,VITE_PATH:n}=u,S=p("cartStore",{state:()=>({cartsList:[],toastState:!0,doAction:null}),actions:{addToCart(t,e){const a=d.show(),s=`${c}/api/${n}/cart`,o={data:{product_id:t,qty:e}};r.post(s,o).then(h=>{this.toastState=!this.toastState,this.doAction="addToCart",this.getCartsList()}).catch(h=>{i.fire({icon:"error",text:h.response.data.message})}).finally(()=>{a.hide()})},getCartsList(){const t=`${c}/api/${n}/cart`;r.get(t).then(e=>{this.cartsList=e.data.data}).catch(e=>{i.fire({icon:"error",text:e.response.data.message})})},updateCart(t){const e=d.show(),a=`${c}/api/${n}/cart/${t.id}`,s={data:{product_id:t.product_id,qty:t.qty}};r.put(a,s).then(o=>{this.toastState=!this.toastState,this.doAction="updateCart",this.getCartsList()}).catch(o=>{i.fire({icon:"error",text:o.response.data.message})}).finally(()=>{e.hide()})},deleteCartItem(t){const e=d.show(),a=`${c}/api/${n}/cart/${t}`;r.delete(a).then(s=>{this.toastState=!this.toastState,this.doAction="deleteCartItem",this.getCartsList()}).catch(s=>{i.fire({icon:"error",text:s.response.data.message})}).finally(()=>{e.hide()})}}});export{S as c};
